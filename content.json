{"pages":[{"title":"å…³äºâ€œéšæ‰‹è®°â€","text":"å­¦è¿‡ç”¨è¿‡çš„ä¸œè¥¿ä»¥å‰æ²¡æœ‰è®°ä¸‹æ¥çš„ä¹ æƒ¯ï¼Œæ€»è§‰å¾—æ‰‹è¾¹å¸¸ç”¨çš„ä¸éœ€è¦è®°ï¼Œä¸å¸¸ç”¨çš„æœ‰ä¸ªå°è±¡ç”¨æ—¶å†æŸ¥èµ„æ–™å°±æ˜¯ã€‚ æœ€è¿‘ä¸¤å¹´åœ¨åˆ›ä¸šå…¬å¸å°è¯•äº†è‹¥å¹²ä¸åŒçš„ç»†åˆ†æ–¹å‘ï¼Œå¾ˆå¤šçŸ¥è¯†ç‚¹éƒ½å¤„äºæ—¶è€Œè¦ç”¨ï¼Œåˆéƒ½ä¸é‚£ä¹ˆå¸¸ç”¨çš„çŠ¶æ€ï¼Œå°±å‘ç°æ²¡æœ‰ä¸ªè®°å½•çš„è¯ï¼Œæœ‰äº›ä¸œè¥¿éš”æ®µæ—¶é—´å†ç”¨åˆ°ï¼Œåªæ˜¯è®°å¾—ä¸ªå¤§æ¦‚å´æ‰¾ä¸åˆ°ç»†èŠ‚å‡ºå¤„çš„æ—¶å€™å¾ˆæµªè´¹æ—¶é—´ã€‚å°±æ‰“ç®—è¦åšäº›è®°å½•ï¼Œä½†ä¸€ç›´å¿™ä¸œå¿™è¥¿ï¼Œå¹¶æ²¡æœ‰çœŸçš„è®°ä¸‹ä»€ä¹ˆæ¥(å…¶å®ä¸»è¦æ˜¯æ‡’)ã€‚ æœ€è¿‘å·¥ä½œç›¸å¯¹ç¨³å®šï¼Œå†³å¿ƒå¼€å§‹è®°ç‚¹ä¸œè¥¿ï¼Œè¦æ˜¯å†™åœ¨è‡ªå·±çš„ç¬”è®°é‡Œæ€•åˆçŠ¯äº†æ‡’ç™Œï¼Œè¿˜æ˜¯æ‰¾ä¸ªç›¸å¯¹å…¬å¼€çš„åœ°æ–¹æ¯”è¾ƒåˆé€‚ã€‚ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/about/index.html"}],"posts":[{"title":"Android Studio 3.6.X ä¸èƒ½ç›´æ¥è¿è¡Œè€é¡¹ç›®çš„é—®é¢˜","text":"ä»Šå¤©å‡çº§äº†Android Studioåˆ° 3.6.2ï¼Œç»“æœé¡¹ç›®ä¸èƒ½ç›´æ¥runåˆ°æ‰‹æœºé‡Œäº†ï¼ŒæŠ¥é”™å¦‚ä¸‹ ApkProvisionException: No outputs for the main artifact of variant: debug é™çº§ AS æˆ– å‡çº§ Gradle æˆæœ¬éƒ½é¢‡é«˜ å¯ä»¥é€šè¿‡ä¿®æ”¹ Installation Options ä¸´æ—¶è§£å†³å…·ä½“ä¿®æ”¹æ˜¯ Deploy è®¾ç½®ä¸º Nothing å¹¶å¢åŠ ä¸€ä¸ª Before lanuch çš„ gradle taskå‚è€ƒä¸‹å›¾ï¼š document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/15/Android-Studio-3-6-X-%E4%B8%8D%E8%83%BD%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E8%80%81%E9%A1%B9%E7%9B%AE%E7%9A%84%E9%97%AE%E9%A2%98/"},{"title":"Electroné¡¹ç›®yarnå®‰è£…ä¾èµ–","text":"yarn æ·˜å®é•œåƒ 1234yarn config set registry https://registry.npm.taobao.orgyarn config get registryhttps://registry.npm.taobao.org Electron æ·˜å®é•œåƒ 1export ELECTRON_MIRROR=\"https://cdn.npm.taobao.org/dist/electron/\" å®˜æ–¹æ–‡æ¡£ä¼ é€é—¨ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/28/Electron%E9%A1%B9%E7%9B%AEyarn%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96/"},{"title":"GitHub Actions æå®šHexoè‡ªåŠ¨éƒ¨ç½²","text":"ç¬¬ä¸€æ¬¡å°è¯• GitHub Actionsï¼Œå¾ˆèµğŸ‘ è¯­æ³•ç®€å•ï¼Œä¸Šæ‰‹å®¹æ˜“ï¼Œä½†åˆè¶³å¤Ÿå¼ºå¤§ï¼Œæ„Ÿè§‰å¯ä»¥å¹²ä»»ä½•äº‹æƒ… å¤ç”¨æ€§å¼ºï¼Œå¾ˆå®¹æ˜“é€šè¿‡useå¤ç”¨ï¼Œå¸‚åœºé‡Œæœ‰å¾ˆå¤šå¸¸ç”¨action é…é¢ç»™çš„è¶³å¤Ÿ å®˜æ–¹æ–‡æ¡£ä¼ é€é—¨ [å½“å‰ä»“åº“éƒ¨ç½²ç”¨çš„workflow] 123456789101112131415161718192021222324252627282930313233343536373839name: Deployon: [push] # è§¦å‘äº‹ä»¶jobs: build: runs-on: ubuntu-latest # è¿è¡Œç¯å¢ƒä¸ºæœ€æ–°ç‰ˆ Ubuntu name: A job to deploy blog. steps: - name: Checkout # è·å–æºç  uses: actions/checkout@v1 # ä½¿ç”¨å®˜æ–¹å¸¸ç”¨action with: # æ¡ä»¶ submodules: true - name: copyCfg # æ›´æ–°é…ç½® run: cp _config.theme.yml themes/icarus/_config.yml # Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.) - name: Cache node modules uses: actions/cache@v1 id: cache with: path: node_modules key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }} restore-keys: | ${{ runner.os }}-node- - name: Install Dependencies if: steps.cache.outputs.cache-hit != 'true' # å¦‚æœæ²¡æœ‰cache run: npm install # å®‰è£… node modules ç›¸å…³ä¾èµ– # å‘å¸ƒ - name: Deploy id: deploy uses: sma11black/hexo-action@v1.0.0 # ä½¿ç”¨ ç¤¾åŒºè´¡çŒ®çš„action with: deploy_key: ${{ secrets.DEPLOY_KEY }} user_name: xuewuli user_email: 26448247@qq.com document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/17/GitHub-Actions-%E6%90%9E%E5%AE%9AHexo%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"},{"title":"Nettyçš„ByteBufä¸Protostuffåºåˆ—åŒ–å®ç°é›¶æ‹·è´","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/22/Netty%E7%9A%84ByteBuf%E4%B8%8EProtostuff%E5%BA%8F%E5%88%97%E5%8C%96%E5%AE%9E%E7%8E%B0%E9%9B%B6%E6%8B%B7%E8%B4%9D/"},{"title":"Cache friendly code","text":"ä»€ä¹ˆæ˜¯ç¼“å­˜å‹å¥½ä»£ç ï¼Ÿå­¦é™¢æ´¾çš„å›ç­”å¤§æ¦‚ä¼šæ¶‰åŠCPUå¤šçº§ç¼“å­˜ç»“æ„ç­‰åŸç†æ€§çš„å†…å®¹ï¼Œä½†ä¹Ÿè®¸åªè¦ç†è§£â€œç¼“å­˜æ˜¯CPUé‡Œä¸€å—æ¯”å†…å­˜å°å¾ˆå¤šï¼Œä½†ä¹Ÿå¿«å¾ˆå¤šçš„å­˜å‚¨ç©ºé—´ï¼Œè®¿é—®å†…å­˜æ—¶CPUä¼šä¸€æ®µä¸€æ®µçš„æŠŠå†…å­˜è¯»å–åˆ°ç¼“å­˜ï¼Œå¦‚æœåç»­æ“ä½œçš„æ•°æ®åœ¨ç¼“å­˜é‡Œå°±ä¸ä¼šè¯»å†…å­˜ï¼Œæ•´ä½“é€Ÿåº¦å°±å¿«äº†â€ï¼Œè¿™æ ·çš„åŸºæœ¬æ¦‚å¿µå…¶å®å°±å¯ä»¥å¼€å§‹ç¼–å†™ç¼“å­˜å‹å¥½çš„ä»£ç äº†ã€‚ å¤šæ ¸å¤šçº¿ç¨‹æ—¶è¿˜ä¼šæœ‰False Sharingç­‰é—®é¢˜ï¼Œå¯ä»¥å…¥é—¨åå†é€æ­¥äº†è§£ã€‚ ä¸‹é¢æ˜¯ä¸€æ®µæ¼”ç¤ºä»£ç ã€‚å¯¹ä¸€ä¸ªäºŒç»´æ•°ç»„çš„æ•°æ®æ±‚å’Œï¼ŒåŒºåˆ«åªæ˜¯æŒ‰â€œè¡Œâ€è®¿é—®è¿˜æ˜¯æŒ‰â€œåˆ—â€è®¿é—®(ä¼šå½±å“cacheæ˜¯å¦å‘½ä¸­)ï¼Œå“å‡ºå…¶ä¸­å·®åˆ«ä¹Ÿå°±ç®—å…¥é—¨äº†ã€‚ åœ¨æ•°æ®é›†å°åˆ°å¯ä»¥å…¨éƒ¨æ”¾åœ¨cacheä¸­çš„æ—¶å€™ï¼Œæ˜¯çœŸçš„é£èµ·äº†ï¼Œå½“ç„¶ç°å®ä¸­å¾ˆå°‘æœ‰è¿™æ ·ç†æƒ³çš„æƒ…å†µï¼Œç¼“å­˜å‹å¥½çš„æ ¸å¿ƒä¹Ÿå°±æ˜¯å¦‚ä½•è®¾è®¡èƒ½é«˜å‘½ä¸­çš„æ•°æ®ç»“æ„å’Œä»£ç ã€‚ å¸¸è§çš„åšæ³•ä¼šæŠŠå¯¹è±¡å±æ€§ä»¥çº¿æ€§å­˜å‚¨ï¼Œå¹¶åˆ†ç‹¬ç«‹å‡½æ•°æ›´æ–°ã€‚è¿™é‡Œä¼šæœ‰ç‚¹å’Œé¢å‘å¯¹è±¡æ‹§ç€çš„æ„Ÿè§‰ï¼Œéœ€è¦é€‚åº”ä¸€ä¸‹ï¼Œå¯¹å¤–æ¥å£OOPå†…éƒ¨ç»„ç»‡DOPã€‚ Unityçš„DOTSä¸­çš„ECS(Entity Component System )æ˜¯ä¸é”™çš„æ¦‚å¿µå‚è€ƒã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;iostream&gt;#include &lt;chrono&gt;#include &lt;string&gt;#include &lt;vector&gt;using namespace std;template &lt;int M, int N&gt;int sumarrayrows(int a[M][N]){ int sum = 0; for (int i = 0; i != M; ++i) for (int j = 0; j != N; ++j) sum += a[i][j]; return sum;}template &lt;int M, int N&gt;int sumarraycols(int a[M][N]){ int sum = 0; for (int j = 0; j != N; ++j) for (int i = 0; i != M; ++i) sum += a[i][j]; return sum;}template &lt;int M, int N&gt;void testCase(){ cout &lt;&lt; \"testCase: \" &lt;&lt; M &lt;&lt; \",\" &lt;&lt; N &lt;&lt; endl; int data[M][N] = {1}; { auto start = chrono::steady_clock::now(); int sum = 0; for (int loop = 0; loop &lt; 10000; loop++) { sum += sumarrayrows&lt;M, N&gt;(data); } auto end = chrono::steady_clock::now(); cout &lt;&lt; \"\\tsum: \" &lt;&lt; sum &lt;&lt; \" time: \" &lt;&lt; chrono::duration_cast&lt;chrono::microseconds&gt;(end - start).count() &lt;&lt; endl; } { auto start = chrono::steady_clock::now(); int sum = 0; for (int loop = 0; loop &lt; 10000; loop++) { sum += sumarraycols&lt;M, N&gt;(data); } auto end = chrono::steady_clock::now(); cout &lt;&lt; \"\\tsum: \" &lt;&lt; sum &lt;&lt; \" time: \" &lt;&lt; chrono::duration_cast&lt;chrono::microseconds&gt;(end - start).count() &lt;&lt; endl; }}int main(){ testCase&lt;10, 10&gt;(); testCase&lt;100, 100&gt;();} 1clang ./cacheTest.cpp --std=c++14 -lstdc++ -O2 -o test.out 123456testCase: 10,10 sum: 10000 time: 5 sum: 10000 time: 306testCase: 100,100 sum: 10000 time: 15380 sum: 10000 time: 74331 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/21/Cache-friendly-code/"},{"title":"Vue+three.js","text":"æœ‹å‹è¦åšä¸ªh5 appé¡¹ç›®ï¼Œé‡Œé¢éœ€è¦æ˜¾ç¤º3Dæ¨¡å‹ï¼Œé—®æˆ‘è¿™ä¸ªåšæ¸¸æˆçš„ï¼Œç”¨ä»€ä¹ˆåˆé€‚ï¼Œæ˜¯ä¸æ˜¯å¾—ç”¨æ¸¸æˆå¼•æ“ã€‚ æƒ³äº†æƒ³è§‰å¾— Vue|React+three.js é…åˆèµ·æ¥åº”è¯¥åˆé€‚ã€‚ åšäº†ä¸ªdemoéªŒè¯ä¸€ä¸‹ã€‚ Demoçš„GitHubä»“åº“ä¼ é€é—¨ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/14/Vue-three-js/"},{"title":"crunchçº¹ç†å‹ç¼©åº“çš„ä½¿ç”¨","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/22/crunch%E7%BA%B9%E7%90%86%E5%8E%8B%E7%BC%A9%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/"},{"title":"ä¸€æ®µåº”æ€¥çš„C++å¯¹è±¡æ£€æŸ¥ä»£ç ","text":"ä¸€ä¸ªJNIé¡¹ç›®ï¼Œå¶å‘ç¦»å¥‡å´©æºƒï¼Œæ€€ç–‘æ˜¯é‡æŒ‡é’ˆç±»çš„é—®é¢˜ã€‚å¼€address sanitizeræœ¬åœ°éš¾å¤ç°ï¼Œæµ‹è¯•ç‰ˆå¼€aså¤ªå¡ï¼Œå¤§éƒ¨åˆ†æµ‹è¯•æœºè¿˜æ˜¯6ã€7çš„ç³»ç»Ÿã€‚ è¿˜å¥½å¤§éƒ¨åˆ†éƒ½å¯¹è±¡éƒ½æ´¾ç”Ÿè‡ªå¼•ç”¨è®¡æ•°çš„åŸºç±»ï¼Œäºæ˜¯æŒ‰fail-fastçš„æ€è·¯æ†‹å‡ºäº†ä»¥ä¸‹ä»£ç ï¼Œåœ¨åŠ å‡å¼•ç”¨å’Œæ€€ç–‘åŒºåŸŸæ‰‹åŠ¨æ’æ¡©æ£€æŸ¥ã€‚ é™„ä¸Šä»£ç ï¼Œæ— å…³éƒ¨åˆ†åšäº†ç®€åŒ– 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102#include &lt;type_traits&gt;#include &lt;stdio.h&gt;#include &lt;assert.h&gt;#define LOG(...) do { fprintf(stderr, __VA_ARGS__); fflush(stderr); } while (false)class Object{public: Object() : _falgs(0xcafecafe) { } virtual ~Object() { _falgs = 0xdeaddead; } // is not strict but help avoid most of error bool isValid() const { return static_cast&lt;const void *&gt;(this) &amp;&amp; (_falgs == 0xcafecafe); }private: int _falgs;};class ObjectCheck{public: template &lt;typename T&gt; static bool Check(T obj) { return doCheck&lt;T&gt;(obj); } template &lt;typename T&gt; static bool CheckNullable(T obj) { return obj == nullptr || doCheck&lt;T&gt;(obj); }private: template &lt;typename T&gt; static bool doCheck(typename std::enable_if&lt;std::is_base_of&lt;Object, typename std::remove_pointer&lt;T&gt;::type&gt;::value &amp;&amp; !std::is_void&lt;typename std::remove_pointer&lt;T&gt;::type&gt;::value, T&gt;::type obj) { LOG(\"dynamic_cast &amp;&amp; isValid %p %p \", dynamic_cast&lt;T&gt;(reinterpret_cast&lt;Object*&gt;(obj)), obj); return (obj == dynamic_cast&lt;T&gt;(reinterpret_cast&lt;Object*&gt;(obj)) &amp;&amp; obj-&gt;isValid()); } template &lt;typename T&gt; static bool doCheck(typename std::enable_if&lt;!std::is_base_of&lt;Object, typename std::remove_pointer&lt;T&gt;::type&gt;::value &amp;&amp; std::is_polymorphic&lt;typename std::remove_pointer&lt;T&gt;::type&gt;::value, T&gt;::type obj) { LOG(\"dynamic_cast %p %p \", dynamic_cast&lt;T&gt;(obj), obj); return (obj == dynamic_cast&lt;T&gt;(obj)); } template &lt;typename T&gt; static bool doCheck(typename std::enable_if&lt;std::is_void&lt;typename std::remove_pointer&lt;T&gt;::type&gt;::value, T&gt;::type obj) { LOG(\"static_cast void* \"); return (obj == static_cast&lt;void *&gt;(obj)); }};class Dummy{public: virtual ~Dummy() = default; int dummy;};class SubObject : public Object{public: int dummy;};int main(){ void *t1 = nullptr; Object *t2 = nullptr; Dummy *t3 = nullptr; SubObject *t4 = nullptr; Object *t5 = new Object(); Dummy *t6 = new Dummy(); SubObject *t7 = new SubObject(); SubObject *t8 = reinterpret_cast&lt;SubObject *&gt;(t6); SubObject *t9 = reinterpret_cast&lt;SubObject *&gt;(t5); SubObject *t10 = new SubObject(); delete t10; LOG(\"result %d \\n\", ObjectCheck::CheckNullable(t1)); LOG(\"result %d \\n\", ObjectCheck::CheckNullable(t2)); LOG(\"result %d \\n\", ObjectCheck::CheckNullable(t3)); LOG(\"result %d \\n\", ObjectCheck::CheckNullable(t4)); LOG(\"result %d \\n\", ObjectCheck::Check(t5)); LOG(\"result %d \\n\", ObjectCheck::Check(t6)); LOG(\"result %d \\n\", ObjectCheck::Check(t7)); LOG(\"result %d \\n\", ObjectCheck::Check(t8)); LOG(\"result %d \\n\", ObjectCheck::Check(t9)); LOG(\"result %d \\n\", ObjectCheck::Check(t10));} è¾“å‡º 12345678910result 1 result 1 result 1 result 1 dynamic_cast &amp;&amp; isValid 0x7fca1cc02b40 0x7fca1cc02b40 result 1 dynamic_cast 0x7fca1cc02b50 0x7fca1cc02b50 result 1 dynamic_cast &amp;&amp; isValid 0x7fca1cc02b60 0x7fca1cc02b60 result 1 dynamic_cast &amp;&amp; isValid 0x0 0x7fca1cc02b50 result 0 dynamic_cast &amp;&amp; isValid 0x0 0x7fca1cc02b40 result 0 [1] 30935 segmentation fault ./a.out document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/15/%E4%B8%80%E6%AE%B5%E5%BA%94%E6%80%A5%E7%9A%84C-%E5%AF%B9%E8%B1%A1%E6%A3%80%E6%9F%A5%E4%BB%A3%E7%A0%81/"},{"title":"node.jsä»£ç åŠ å¯†çš„ä¸€æ¬¡å°è¯•","text":"æ›¾ç»æœ‰ä¸ªåˆä½œé¡¹ç›®ç”¨node.jså¼€å‘çš„ï¼Œå¤§BOSSæƒ³è½¯ä»¶ç»™åˆ°å¯¹æ–¹æ—¶èƒ½ä¸èƒ½ä¸æä¾›æºç ã€‚ æƒ³åˆ°V8æ˜¯æœ‰code cacheçš„ï¼Œå¦‚æœæŠŠæºç è½¬æˆcode cacheä¸å°±æ»¡è¶³éœ€æ±‚äº† å› ä¸ºæ˜¯é’ˆå¯¹ç”¨æˆ·éƒ¨ç½²ï¼Œç‰ˆæœ¬å…¼å®¹çš„é—®é¢˜å¯ä»¥å…ˆå¿½ç•¥ æŸ¥äº†ä¸‹node.jsæ–‡æ¡£è¿˜çœŸæœ‰ç›¸å…³æ¥å£æš´éœ²ï¼Œç»è¿‡ä¸€ä¸‹åˆçš„æŠ˜è…¾ï¼Œæå‡ºä¸€ä¸ªå°å·¥å…· äº§ç”Ÿå’Œä½¿ç”¨code cacheçš„æ¥å£å¾ˆç®€å•ï¼ŒæŠ˜è…¾åœ¨requireæ‹¦æˆªï¼Œå¤–åŠ è¸©äº†ä¸ªlazy compileçš„å‘ ä¸åºŸè¯äº†ï¼Œç›´æ¥ä¸Šä»£ç  ä»£ç ä»“åº“ä¼ é€é—¨ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/19/nodejs-%E4%BB%A3%E7%A0%81%E5%8A%A0%E5%AF%86%E7%9A%84%E4%B8%80%E6%AC%A1%E5%B0%9D%E8%AF%95/"},{"title":"å¯¹cocos2dx-liteçš„JSBåšé’ˆå¯¹æ€§ä¼˜åŒ–","text":"å‰è¨€ cocos2dx-liteï¼ˆcreator 2.0ä¹‹å‰ç‰ˆæœ¬ï¼‰åŒæ—¶æ”¯æŒå¤šç§jsçš„vmï¼Œæ‰€ä»¥ä¹Ÿå°±åŸºæœ¬æ²¡æœ‰åšé’ˆå¯¹ç‰¹å®švmçš„ä¼˜åŒ–ï¼Œé¡¹ç›®ä¼˜åŒ–æ—¶å†³å®šåšå®šçš„èµ°V8è·¯çº¿ï¼Œå¯åŠ¨äº†é’ˆå¯¹V8çš„ä¸“é—¨ä¼˜åŒ–ã€‚å½“ç„¶è¿™äº›ä¼˜åŒ–éƒ½ç”¨å®å®šä¹‰åˆ†ç¦»å¼€äº†ï¼Œä¿éšœV8ä¸å¯ç”¨æ—¶åŸæœ‰é€»è¾‘ä»ç„¶ä¸å˜ã€‚ å…·ä½“ä¼˜åŒ–æ¡ç›® jsbç»‘å®šéƒ¨åˆ†ï¼Œé¿å¼€se::Stateå’Œse::Valueç›´æ¥ç”ŸæˆV8å½¢å¼çš„ç»‘å®šï¼Œå®æµ‹ç®€å•æƒ…å†µå¦‚ setPosition å‡½æ•°æ•ˆç‡æå‡50%å·¦å³ã€‚ æ›´æ–°V8åˆ°8.0ä»¥ä¸Šï¼Œå¼€å¯æŒ‡é’ˆå‹ç¼©ï¼Œé™ä½å†…å­˜ 20%å·¦å³ï¼Œå®é™…é¡¹ç›®ä¸åŒä¼šæœ‰å·®åˆ«ï¼Œåˆ«é—®æˆ‘æ€ä¹ˆç¼–è¯‘çš„ æ‰€æœ‰æºç ä½¿ç”¨v8::String::ExternalOneByteStringResourceç®¡ç†ï¼Œå‡å°‘å†…å­˜copyï¼ˆc++ -&gt; v8)ï¼Œé¿å…å­—ç¬¦è½¬ç ï¼ˆut8 -&gt; utf16)æ¶ˆè€—ï¼Œå®é™…é™ä½å†…å­˜ 40M ï¼Œå½“ç„¶è¿™å–å†³äºè„šæœ¬æ–‡ä»¶çš„å¤šå°‘ï¼Œè¿™ä¸ªé¡¹ç›®æœ‰å¤§é‡è„šæœ¬ã€‚ä¸ºä»€ä¹ˆæ˜¯OneByteStringï¼Œå› ä¸ºjsæ˜¯utf16å†…ç ï¼Œä½†v8æœ‰ä¸ªä¼˜åŒ–å¤„ç†å¯¹äºçº¯å•å­—èŠ‚çš„å­—ç¬¦ä¸²æ˜¯å¯ä»¥ç”¨OneByteStringè¡¨ç¤ºçš„å¯ä»¥çœä¸€åŠå†…å­˜ï¼Œå½“ç„¶æºç éœ€è¦é¢„å¤„ç†ä¸€ä¸‹,ä½¿ç”¨unicodeè½¬æ„è¡¨ç¤º 1234567function to_latin1(str) { return str.replace(/[\\u007f-\\uffff]/g, function(ch) { var code = ch.charCodeAt(0).toString(16); while (code.length &lt; 4) code = \"0\" + code; return \"\\\\u\" + code; });} ä½¿ç”¨v8::ArrayBuffer::Allocatorä½¿å¾—éƒ¨åˆ†ArrayBufferå¯ä»¥ä½¿ç”¨å®¿ä¸»å†…å­˜ï¼Œé¿å…å®¿ä¸»ä¸VMé—´çš„copy å¯¹çº¹ç†ç­‰å¤§å†…å­˜å¯¹è±¡é€šè¿‡Isolate::AdjustAmountOfExternalAllocatedMemoryå‘ŠçŸ¥V8å¤–éƒ¨å†…å­˜å ç”¨æƒ…å†µ å¯ç”¨WeakRefå¯åŠ¨å‚æ•°å¢åŠ --harmony-weak-refs,å¯ä»¥ä½¿ç”¨æ–°æ ‡å‡†ä¸­çš„WeakRef,è§£å†³åŠ¨æ€åŠ è½½çš„å›¾ç‰‡é‡Šæ”¾é—®é¢˜ï¼ˆé¡¹ç›®æœ‰å¤§é‡ç½‘ç»œä¸‹è½½çš„å›¾ç‰‡ï¼‰ã€‚ç›®å‰ä¼šå¶æœ‰å´©æºƒï¼Œä¸ç¡®å®šæ˜¯æ¥å…¥æ–¹å¼ä¸å¯¹ï¼Œè¿˜æ˜¯ä»€ä¹ˆåŸå› ï¼Œä»åœ¨è§‚å¯Ÿä¸­ å…¶å®ƒ é€šç”¨æ€§å’Œæ•ˆç‡æ€»æ˜¯éœ€è¦å¹³è¡¡çš„ä¸¤ä¸ªæ–¹é¢ï¼Œé’ˆå¯¹å…·ä½“é¡¹ç›®æ˜¯å¯ä»¥åšä¸€äº›æ›´æ¿€è¿›çš„é€‰æ‹© V8æ˜¯ä¸ªå¥½é¡¹ç›®ï¼Œä½†æ–‡æ¡£è¿˜ä¸å¤Ÿç»†ï¼Œè¯»ä»£ç å¯ä»¥äº†è§£ç»†èŠ‚ å®åœ¨æä¸æ¸…æ¥šäº†å¯ä»¥å‚è€ƒnode.jsä¸V8ç»“åˆçš„ä»£ç  document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/16/%E5%AF%B9cocos2dx-lite%E7%9A%84JSB%E5%81%9A%E9%92%88%E5%AF%B9%E6%80%A7%E4%BC%98%E5%8C%96/"},{"title":"æ‰©å±•cocos2dxç‰ˆçš„fbx-conv","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/22/%E6%89%A9%E5%B1%95cocos2dx%E7%89%88%E7%9A%84fbx-conv/"},{"title":"æŠ€æœ¯ç‰ˆäº”å½©æ–‘æ–“çš„é»‘","text":"æœ€è¿‘å¥½å‡ ä¸ªpostéƒ½åªç•™äº†æ ‡é¢˜ï¼Œè¿Ÿè¿Ÿè¡¥ä¸ä¸Šå†…å®¹ï¼Œæœ‰ç‚¹è¦æ–­æ›´çš„å°´å°¬ğŸ˜“ã€‚å¶ç„¶çœ‹åˆ°ä¸ªè§†é¢‘ï¼Œè§‰å¾—æŒºå¥½çš„ï¼Œå‘ä¸Šæ¥ä¹Ÿç®—æ˜¯ç»­ä¸Šäº†ã€‚ è¯·æ¬£èµè§†é¢‘ your browser does not support the video tag è§‚åæ„Ÿåå•†ä¹‹ä¸‹æ²¡æœ‰ä»€ä¹ˆéœ€æ±‚æ˜¯æ»¡è¶³ä¸äº†çš„ï¼Œå¦‚æœæœ‰å°±æ¢ä¸ªè¡¨è¿°ğŸ˜‚ è¦æ°¸è¿œå……æ»¡ä¿¡å¿ƒæ‰æ˜¯åˆæ ¼çš„ä¸“å®¶ é™„ä¸Šä¸€ä¸ªäº”å½©æ–‘æ–“çš„é»‘ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/24/%E6%8A%80%E6%9C%AF%E7%89%88%E4%BA%94%E5%BD%A9%E6%96%91%E6%96%93%E7%9A%84%E9%BB%91/"},{"title":"è®°ä¸€æ¬¡ReactNativeä¼˜åŒ–","text":"è¿™æ˜¯ä¸€ä¸ªè¯•æ°´é¡¹ç›®ï¼Œæ˜¯æ‰¾çš„ä»£ç åšäºŒæ¬¡å¼€å‘ï¼Œåœ¨ä¸­ä½ç«¯æ‰‹æœºä¸Šè¿è¡Œï¼Œæ»‘åŠ¨åˆ—è¡¨æœ‰ç‚¹å¡ã€‚ ä»£ç åˆ°æ‰‹åæ€»ä½“æµè§ˆäº†ä¸€ä¸‹ï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå¤æ‚è®¡ç®—ï¼Œåº”è¯¥æ˜¯å¯¹è±¡åˆ›å»ºå’Œå¸ƒå±€ç»˜åˆ¶å å¤§å¤´ã€‚ å…·ä½“æ‰¾åˆ°å¯¹åº”ç•Œé¢çš„æ ·å¼å’Œç»„ä»¶ä»£ç åï¼Œç¡®å®ä»£ç ä¸ºäº†å¸ƒå±€å®¹æ˜“ï¼Œå±‚æ¬¡åµŒå¥—æ¯”è¾ƒå¤šï¼Œæ ·å¼ä¹¦å†™ç®€å•ç›´æ¥ï¼Œå¯ä»¥é€æ˜çš„å®¹å™¨éƒ½å¡«å……äº†é¢œè‰²ï¼Œç»è¿‡ä¸€ç•ªè°ƒæ•´ï¼Œä¸»è¦ä¿®æ”¹æ ·å¼ï¼Œéƒ¨åˆ†æ‰å¹³åŒ–å±‚çº§åï¼Œé—®é¢˜è§£å†³ã€‚ è¿™é‡Œä¸æ‰“ç®—å†™å…·ä½“ä¿®æ”¹çš„å†…å®¹ï¼ŒåŸç”Ÿå¹³å°çš„å¼€å‘æ‰‹å†Œé‡Œéƒ½ä¼šæœ‰layout,overdrawå’Œgpu profileç›¸å…³çš„å†…å®¹ï¼Œé‡Œé¢æœ‰å†™çš„å¾ˆå¥½çš„æŒ‡å¼•è¯´æ˜ã€‚ (è¿™é‡Œè¿˜æ”¹äº†react-navigation-stacké‡Œçš„StackViewCardï¼Œå› ä¸ºå½“æ—¶çš„ç‰ˆæœ¬ï¼Œå®ƒçš„èƒŒæ™¯è®¾ç½®ä¸äº†é€æ˜ï¼Œæœ¬æƒ³ç•¥å»çš„ï¼Œå› ä¸ºæœ¬è´¨è¿˜æ˜¯æ”¹æ ·å¼ï¼Œä½†æ¯•ç«ŸåŠ¨åˆ°äº†ä¸‰æ–¹ç»„ä»¶é‡Œé¢ï¼Œè¿˜æ˜¯è¡¥å……è¯´æ˜ä¸€ä¸‹) ä¼˜åŒ–å¹¶ä¸éƒ½æ˜¯é«˜æ·±å¤æ‚çš„äº‹æƒ…ï¼Œå¾ˆå¤šæ—¶å€™è®¤çœŸåšå¥½åŸºç¡€çš„äº‹æƒ…å°±å·²ç»èƒ½æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚ çœ‹èµ·æ¥å¤–åœ¨è¡¨ç°ä¸€æ ·ï¼Œå¯èƒ½å¯¹åº”çš„å†…åœ¨åœ¨ä»£ç ä¸ä¸€æ ·ï¼Œä¼˜åŒ–åœ¨äºç”¨å¿ƒã€‚ overdrawå¯¹æ¯” gpuå¯¹æ¯” document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/19/%E8%AE%B0%E4%B8%80%E6%AC%A1ReactNative%E4%BC%98%E5%8C%96/"},{"title":"é€šwebviewæ³¨å…¥å®ç°æ¥ç®¡scatterç­¾åè¯·æ±‚","text":"document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });","link":"/2020/04/19/%E9%80%9Awebview%E6%B3%A8%E5%85%A5%E5%AE%9E%E7%8E%B0%E6%8E%A5%E7%AE%A1scatter%E7%AD%BE%E5%90%8D%E8%AF%B7%E6%B1%82/"}],"tags":[{"name":"Android Studio","slug":"Android-Studio","link":"/tags/Android-Studio/"},{"name":"Gradle","slug":"Gradle","link":"/tags/Gradle/"},{"name":"electron","slug":"electron","link":"/tags/electron/"},{"name":"GitHub","slug":"GitHub","link":"/tags/GitHub/"},{"name":"netty","slug":"netty","link":"/tags/netty/"},{"name":"protostuff","slug":"protostuff","link":"/tags/protostuff/"},{"name":"Cache","slug":"Cache","link":"/tags/Cache/"},{"name":"VUE","slug":"VUE","link":"/tags/VUE/"},{"name":"three.js","slug":"three-js","link":"/tags/three-js/"},{"name":"C++","slug":"C","link":"/tags/C/"},{"name":"node.js","slug":"node-js","link":"/tags/node-js/"},{"name":"Cocos2dX","slug":"Cocos2dX","link":"/tags/Cocos2dX/"},{"name":"V8","slug":"V8","link":"/tags/V8/"},{"name":"éœ€æ±‚","slug":"éœ€æ±‚","link":"/tags/%E9%9C%80%E6%B1%82/"},{"name":"ReactNative","slug":"ReactNative","link":"/tags/ReactNative/"},{"name":"EOS","slug":"EOS","link":"/tags/EOS/"},{"name":"åŒºå—é“¾","slug":"åŒºå—é“¾","link":"/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"},{"name":"webview","slug":"webview","link":"/tags/webview/"}],"categories":[{"name":"éšè®°","slug":"éšè®°","link":"/categories/%E9%9A%8F%E8%AE%B0/"},{"name":"ä¼˜åŒ–","slug":"ä¼˜åŒ–","link":"/categories/%E4%BC%98%E5%8C%96/"},{"name":"å›å¿†","slug":"å›å¿†","link":"/categories/%E5%9B%9E%E5%BF%86/"},{"name":"æ‚è®°","slug":"æ‚è®°","link":"/categories/%E6%9D%82%E8%AE%B0/"}]}